<script lang="ts">
    import Player from "youtube-player";
    import type { Options, YouTubePlayer } from "youtube-player/dist/types";

    let options: Options = {
        playerVars: {
            autoplay: 1,
            modestbranding: 1,
            controls: 0,
            fs: 0,
            rel: 0,
            loop: 1, // 반복 재생 여부를 설정
        },
    };
    export let name: string;

    let player: YouTubePlayer | HTMLElement;
    $: if (player) {
        player = Player(player, options);
        player.loadVideoById("c5it8ttzJuY");
    }
</script>

<div class="container">
    <div class="image-thumbanil">
        <div>
            <!-- <div id="player" class="recipe-img" bind:this={player} /> -->
            <div class="recipe-img">
                <iframe
                src="https://www.youtube.com/embed/c5it8ttzJuY?autoplay=1&mute=1&loop=1"
                title="YouTube video player"
                frameborder="0"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                allowfullscreen
            />
            </div>
            
            <!-- <img src="https://img.youtube.com/vi/c5it8ttzJuY/sddefault.jpg" alt="요리사진" class="recipe-img" /> -->
            <div class="overlay" />
        </div>
    </div>
    <div class="info">
        {name}
    </div>
</div>

<style>
    .info {
        position: absolute;
        bottom: 5%;
        padding-left: 0.5rem;
        font-size: 1.25rem;
        color: white;
    }

    .image-thumbanil > div {
        position: absolute;
        top: -16.75%;
        bottom: -16.75%;
        left: 0;
        right: 0;
    }

    .image-thumbanil {
        width: 100%;
        padding-bottom: 100%;
        position: relative;
        border-radius: var(--radius);
        overflow: hidden;
    }

    .container {
        margin: 1rem 0.7rem 0rem 0.3rem;
        width: calc(50% - 1rem);
        position: relative;
        display: flex;
        flex-direction: column;
        border-radius: var(--radius);
        overflow: hidden;
        aspect-ratio: 1 / 1;
        background-blend-mode: multiply;
    }

    .recipe-img {
        position: absolute;
        object-fit: cover;
        object-position: center;
        width: 100%;
        height: 100%;
    }

    .overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        border-radius: var(--radius);
    }
</style>
